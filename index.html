<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cash View - Dashboard</title>
    <link rel="stylesheet" href="styles/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="logo">üí∞</span>
                <span class="brand-name">Cash View</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link active">In√≠cio</a></li>
                <li><a href="about.html" class="nav-link">Sobre N√≥s</a></li>
                <li><span class="user-name" id="userName"></span></li>
                <li><button class="btn-logout" id="btnLogout">Sair</button></li>
            </ul>
        </div>
    </nav>

    <!-- Main Dashboard -->
    <main class="dashboard">
        <div class="container">
            <!-- Header -->
            <header class="dashboard-header">
                <h1>Cash View ‚Äî Visualize seu Dinheiro</h1>
                <p class="subtitle">Transforme o invis√≠vel em vis√≠vel. Tome decis√µes financeiras conscientes.</p>
            </header>

            <!-- Cards Grid -->
            <div class="cards-grid">
                <!-- Saldo Atual -->
                <div class="card card-balance">
                    <div class="card-header">
                        <h3>üíµ Saldo Atual</h3>
                    </div>
                    <div class="card-body">
                        <div class="balance-amount" id="currentBalance">R$ 0,00</div>
                        <div class="balance-details">
                            <span class="income">‚Üë Receitas: R$ <span id="totalIncome">0,00</span></span>
                            <span class="expense">‚Üì Despesas: R$ <span id="totalExpense">0,00</span></span>
                        </div>
                    </div>
                </div>

                <!-- Transa√ß√£o R√°pida -->
                <div class="card">
                    <div class="card-header">
                        <h3>‚ö° Adicionar Transa√ß√£o</h3>
                    </div>
                    <div class="card-body">
                        <form id="transactionForm">
                            <div class="form-group">
                                <input type="number" id="amount" placeholder="Valor (R$)" required step="0.01">
                            </div>
                            <div class="form-group">
                                <input type="text" id="description" placeholder="Descri√ß√£o" required>
                            </div>
                            <div class="form-group">
                                <select id="type" required>
                                    <option value="">Selecione o tipo</option>
                                    <option value="income">üí∞ Receita</option>
                                    <option value="expense">üí∏ Despesa</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">Adicionar</button>
                        </form>
                    </div>
                </div>

                <!-- Compara√ß√£o Di√°ria -->
                <div class="card">
                    <div class="card-header">
                        <h3>üìä Compara√ß√£o Di√°ria</h3>
                    </div>
                    <div class="card-body">
                        <canvas id="dailyChart"></canvas>
                        <div class="comparison-text" id="dailyComparison"></div>
                    </div>
                </div>

                <!-- Compara√ß√£o Mensal -->
                <div class="card">
                    <div class="card-header">
                        <h3>üìà Compara√ß√£o Mensal</h3>
                    </div>
                    <div class="card-body">
                        <canvas id="monthlyChart"></canvas>
                        <div class="comparison-text" id="monthlyComparison"></div>
                    </div>
                </div>

                <!-- Simulador de Juros -->
                <div class="card card-full">
                    <div class="card-header">
                        <h3>üßÆ Simulador de Juros</h3>
                    </div>
                    <div class="card-body">
                        <form id="interestForm" class="interest-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Valor Total</label>
                                    <input type="number" id="loanAmount" placeholder="Ex: 1000" required step="0.01">
                                </div>
                                <div class="form-group">
                                    <label>Parcelas</label>
                                    <input type="number" id="installments" placeholder="Ex: 12" required min="1">
                                </div>
                                <div class="form-group">
                                    <label>Taxa de Juros (%)</label>
                                    <input type="number" id="interestRate" placeholder="Ex: 2.5" required step="0.01">
                                </div>
                                <button type="submit" class="btn btn-secondary">Calcular</button>
                            </div>
                        </form>
                        <div id="interestResults" class="interest-results hidden">
                            <div class="result-grid">
                                <div class="result-item">
                                    <span class="result-label">Valor √† Vista:</span>
                                    <span class="result-value" id="cashValue">R$ 0,00</span>
                                </div>
                                <div class="result-item">
                                    <span class="result-label">Valor Total Parcelado:</span>
                                    <span class="result-value" id="totalWithInterest">R$ 0,00</span>
                                </div>
                                <div class="result-item">
                                    <span class="result-label">Total de Juros:</span>
                                    <span class="result-value highlight" id="totalInterest">R$ 0,00</span>
                                </div>
                                <div class="result-item">
                                    <span class="result-label">Valor da Parcela:</span>
                                    <span class="result-value" id="installmentValue">R$ 0,00</span>
                                </div>
                            </div>
                            <canvas id="interestChart"></canvas>
                            <div class="educational-note">
                                üí° <strong>Educa√ß√£o Financeira:</strong> Juros pequenos se acumulam em grandes valores no longo prazo. 
                                Sempre que poss√≠vel, prefira pagamentos √† vista ou menor n√∫mero de parcelas.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Hist√≥rico de Transa√ß√µes -->
                <div class="card card-full">
                    <div class="card-header">
                        <h3>üìú Hist√≥rico de Transa√ß√µes</h3>
                        <button class="btn btn-sm" id="btnExport">üìä Exportar Dados</button>
                    </div>
                    <div class="card-body">
                        <div class="transaction-list" id="transactionList">
                            <div class="empty-state">Nenhuma transa√ß√£o registrada ainda.</div>
                        </div>
                    </div>
                </div>

                <!-- Conquistas -->
                <div class="card card-full">
                    <div class="card-header">
                        <h3>üèÜ Conquistas</h3>
                    </div>
                    <div class="card-body">
                        <div class="achievements-grid" id="achievementsGrid"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal de Reflex√£o -->
    <div class="modal" id="reflectionModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üí≠ Momento de Reflex√£o</h2>
            </div>
            <div class="modal-body">
                <p class="reflection-question">Voc√™ realmente precisa desse gasto agora?</p>
                <p class="reflection-subtext">Essa compra te aproxima ou te afasta das suas metas financeiras?</p>
                <div class="reflection-amount" id="reflectionAmount"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="btnDefer">‚è∞ Adiar (+10 pontos)</button>
                <button class="btn btn-primary" id="btnConfirm">‚úì Confirmar Gasto</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <script src="scripts/auth.js"></script>
    <script src="scripts/charts.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html>